{"version":3,"sources":["../../src/pages/admin/admin.module.ts","../../src/pages/admin/admin.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminPage } from './admin';\n\n@NgModule({\n  declarations: [\n    AdminPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdminPage),\n  ],\n  exports:[\n    AdminPage\n  ]\n})\nexport class AdminPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, MenuController, Platform } from 'ionic-angular';\nimport { MarketProvider } from '../../providers/market/market';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { LoginProvider } from '../../providers/login/login';\n\n@IonicPage()\n@Component({\n  selector: 'page-admin',\n  templateUrl: 'admin.html',\n})\nexport class AdminPage {\n  private tanggal: Date;\n  private bln: string[];\n  private dataJual: any=\"\";\n  private tglSrc: any;\n  private vld:boolean = true;\n\n  public searchTerm: string = '';\n  public Total: number;\n  public Sold: number;\n  public Failed: number;\n  \n\n  private clientId: any;\n  private ipAdr:any;\n\n  constructor(\n    public menu: MenuController ,\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    public mkt: MarketProvider, \n    public tool: ToolsProvider, \n    public lgn: LoginProvider,\n    public platform: Platform\n  ) {\n    this.bln = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\n    this.vld = true;\n  }\n\n  ionViewDidLoad() {\n    this.platform.ready().then(()=>{\n      this.menu.enable(true);      \n      this.checkLogin();\n    })\n  }\n\n  checkLogin(){\n    console.log('check login');\n    this.tool.getStg('login').then(\n      (data)=>{\n        if(!data || data.level!=='1'){ \n          this.navCtrl.setRoot('LoginPage');\n        }else{\n          this.clientId = data.clientId;\n          this.tool.getStg('ip').then(\n            (data)=>{\n              if(data){\n                this.ipAdr = data.ip;\n                this.lgn.logger(this.clientId,'Membuka halaman Penjualan BBCA', data.ip).subscribe();\n              }\n            }\n          );\n        }\n      },\n      err=>{\n        console.log('Home->getLoginStg()', err);\n      }\n    ); \n  }\n\n  change(){\n    let tgl: string;\n    tgl = this.tanggal.toString();\n    let dd = tgl.substr(8,2);\n    let mm = tgl.substr(5,2);\n    let yy = tgl.substr(2,2);\n    this.vld = false;\n    this.tglSrc = dd+' '+ this.bln[parseInt(mm)-1]+ \" \"+ yy\n    console.log(this.tglSrc);\n    this.mkt.getAdminData(this.tglSrc).subscribe(data=>{\n      console.log(data);\n      this.lgn.logger(this.clientId,'Mengambil data tanggal '+ this.tglSrc,this.ipAdr).subscribe();\n      this.dataJual = data;\n      this.count();\n    })\n  }\n\n  getOddLot(){\n    this.mkt.getOddLot(this.tglSrc);\n    this.lgn.logger(this.clientId,'Mengunduh data OddLot tanggal '+ this.tglSrc,this.ipAdr).subscribe();\n  }\n\n  getFixLot(){\n    this.mkt.getFixLot(this.tglSrc);\n    this.lgn.logger(this.clientId,'Mengunduh data FixLot tanggal '+ this.tglSrc,this.ipAdr).subscribe();\n  }\n\n  getFilteredData(){\n    if(this.tglSrc){\n      this.mkt.getAdminData(this.tglSrc).subscribe(data=>{\n        this.dataJual = data.filter(res=>{\n          return res.clientId.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1;\n        });\n        this.count();\n      });\n    }\n  }\n\n  count(){\n    this.Total = this.dataJual.length;\n    this.Failed = 0;\n    this.Sold = 0;\n    for(let i = 0; i < this.Total; i++){\n      if(this.dataJual[i].sendTime == 'Failed') this.Failed++;\n      if(this.dataJual[i].sendTime == 'Sold') this.Sold++;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.ts"],"sourceRoot":""}