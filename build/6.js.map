{"version":3,"sources":["../../src/pages/create-user/create-user.module.ts","../../src/pages/create-user/create-user.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CreateUserPage } from './create-user';\n\n@NgModule({\n  declarations: [\n    CreateUserPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CreateUserPage),\n  ],\n})\nexport class CreateUserPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-user/create-user.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform, MenuController } from 'ionic-angular';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { LoginProvider } from '../../providers/login/login';\n\n/**\n * Generated class for the CreateUserPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-create-user',\n  templateUrl: 'create-user.html',\n})\nexport class CreateUserPage {\n  private clientId;\n  private ipAdr;\n\n  private username:string = '';\n  private pass:string = '';\n  private conf:string = '';\n  private nama:string = '';\n\n  private color: string='';\n  private strength: string='';\n  \n  private strong = new RegExp(\"^(?=.*[a-zA-Z])(?=.*[0-9])(?=.{8,})\");\n  private medium = new RegExp(\"^(?=.*[a-zA-Z])(?=.*[0-9])(?=.{5,})\");\n  private weak = new RegExp(\"^((?=.*[0-9])|(?=.*[a-zA-Z]))(?=.{1,})\");\n\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public tool: ToolsProvider,\n    public lgn: LoginProvider,\n    public platform: Platform,\n    public menu: MenuController\n  ) {\n    \n  }\n\n  ionViewDidLoad() {\n    this.platform.ready().then(()=>{\n      this.menu.enable(true);\n      this.checkLogin();\n    });\n  }\n\n  checkLogin(){\n    console.log('check login');\n    this.tool.getStg('login').then(\n      (data)=>{\n        if(!data || data.level!=='1'){ \n          this.navCtrl.setRoot('LoginPage');\n        }else{\n          this.clientId = data.clientId;\n          this.tool.getStg('ip').then(\n            (data)=>{\n              if(data){\n                this.ipAdr = data.ip;\n                this.lgn.logger(this.clientId,'Membuka halaman Buat User', data.ip).subscribe();\n              }\n            }\n          );\n        }\n      },\n      err=>{\n        console.log('Home->getLoginStg()', err);\n      }\n    ); \n  }\n\n  daftar(){\n    this.tool.showLoading();\n    this.tool.getStg('net').then(\n      data=>{\n        if(data.conn!=\"ofline\"){\n          this.simpan();\n        }else{\n          this.tool.showAlert('Error','tidak ditemukan jaringan internet');\n          this.tool.stopLoading();\n        }\n      },\n      error=>{\n        console.log('Register->daftar()',error);\n        this.tool.stopLoading();\n      }\n    );\n  }\n\n  simpan(){\n    this.lgn.createAdmin(this.username, this.pass, this.nama).subscribe(\n      data=>{\n        this.tool.stopLoading();\n        if(data.result == '1'){\n          this.lgn.logger(this.clientId, 'Berhasil Mendaftarkan User '+this.username, this.ipAdr).subscribe();\n          this.tool.showAlert('Berhasil', data.message);\n        }else{\n          this.lgn.logger(this.clientId, 'Mencoba mendaftarkan user '+this.username+' tapi data sudah ada', this.ipAdr).subscribe();\n          let conf = this.tool.showConfirm('Anda sudah terdaftar ,<br>Apakah anda ingin mengubah password?','Konfirmasi','Tidak', 'YA');\n          conf.present();\n          conf.onDidDismiss((res)=>{\n            if(res){\n              this.tool.showLoading();\n              this.ubah();\n            }else{\n              this.lgn.logger(this.clientId,'Batal ubah data', this.ipAdr).subscribe();\n            }\n          });\n        }\n      },\n      error=>{\n        console.log('Register->simpan()',error);\n      this.tool.stopLoading();\n      }\n    );\n  }\n\n  ubah(){\n    this.lgn.updateAdmin(this.username, this.pass, this.nama).subscribe(\n      data=>{\n        this.tool.stopLoading();\n        if(data.result == '1'){\n          this.lgn.logger(this.clientId,'Berhasil ubah data '+this.username, this.ipAdr).subscribe();\n          this.tool.showAlert('Berhasil',data.message); \n        }else{\n          this.tool.showAlert('Gagal',data.message);\n        }\n      },\n      error=>{\n        console.log('Register->ubah()',error);\n      }\n    );\n  }\n\n  passInput(input:string){\n    if(this.strong.test(input)){\n      this.strength = 'kuat';\n      this.color = 'secondary';\n    }else if(this.medium.test(input)){\n      this.strength = 'sedang';\n      this.color = 'warning';\n    }else if(this.weak.test(input)){\n      this.strength = 'lemah'\n      this.color = 'danger';\n    }else{\n      this.strength = '';\n      this.color = 'light';\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-user/create-user.ts"],"sourceRoot":""}