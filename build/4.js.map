{"version":3,"sources":["../../src/pages/history/history.module.ts","../../src/pages/history/history.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AAaxC;IAAA;IAAgC,CAAC;IAApB,iBAAiB;QAX7B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAW;aACZ;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;aACtC;YACD,OAAO,EAAC;gBACN,6DAAW;aACZ;SACF,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACfY;AACc;AAEI;AACG;AACH;AAO5D;IAKE,qBACS,QAAkB,EAClB,IAAmB,EACnB,OAAsB,EACtB,GAAmB,EACnB,GAAkB;QAJlB,aAAQ,GAAR,QAAQ,CAAU;QAClB,SAAI,GAAJ,IAAI,CAAe;QACnB,YAAO,GAAP,OAAO,CAAe;QACtB,QAAG,GAAH,GAAG,CAAgB;QACnB,QAAG,GAAH,GAAG,CAAe;IAG3B,CAAC;IAED,oCAAc,GAAd;QAAA,iBAIC;QAHC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACzB,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gCAAU,GAAV;QAAA,iBAqBC;QApBC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAC5B,UAAC,IAAI;YACH,EAAE,EAAC,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,GAAG,CAAC,EAAC;gBAC9B,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YACpC,CAAC;YAAA,IAAI,EAAC;gBACJ,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9B,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CACzB,UAAC,IAAI;oBACH,EAAE,EAAC,IAAI,CAAC,EAAC;wBACP,KAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,EAAC,uBAAuB,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC;oBAC9E,CAAC;gBACH,CAAC,CACF,CAAC;gBACF,KAAI,CAAC,OAAO,EAAE,CAAC;YACjB,CAAC;QACH,CAAC,EACD,aAAG;YACD,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC;QAC5C,CAAC,CACF,CAAC;IACJ,CAAC;IAED,6BAAO,GAAP;QAAA,iBAWC;QAVC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACxB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,cAAI;YAC5C,IAAI,MAAU,CAAC;YACf,MAAM,GAAG,IAAI,CAAC;YACd,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC;YAC5B,KAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAC1B,CAAC,EAAC,aAAG;YACH,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAC,GAAG,CAAC,CAAC;YACvC,KAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC;IACL,CAAC;IAvDU,WAAW;QAJvB,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;0FAO2B;YACZ,oEAAa;YACV,gFAAa;YACjB,8EAAc;YACd,QAAa;OAVhB,WAAW,CAyDvB;IAAD,CAAC;AAAA;SAzDY,WAAW,e","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HistoryPage } from './history';\n\n@NgModule({\n  declarations: [\n    HistoryPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HistoryPage),\n  ],\n  exports:[\n    HistoryPage\n  ]\n})\nexport class HistoryPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.module.ts","import { Component } from '@angular/core';\nimport { Platform, IonicPage, NavController } from 'ionic-angular';\nimport { Hist } from '../../models/hist';\nimport { ToolsProvider } from '../../providers/tools/tools';\nimport { MarketProvider } from '../../providers/market/market';\nimport { LoginProvider } from '../../providers/login/login';\n\n@IonicPage()\n@Component({\n  selector: 'page-history',\n  templateUrl: 'history.html',\n})\nexport class HistoryPage {\n\n  items: Hist[];\n  private clientId:string;\n\n  constructor(\n    public platform: Platform,\n    public tool: ToolsProvider,\n    public navCtrl: NavController,\n    public mkt: MarketProvider,\n    public lgn: LoginProvider\n  ) {\n    \n  }\n\n  ionViewDidLoad(){\n    this.platform.ready().then(()=>{\n      this.checkLogin();\n    });\n  }\n\n  checkLogin(){\n    this.tool.getStg('login').then(\n      (data)=>{\n        if(!data || data.level !== '0'){\n          this.navCtrl.setRoot('LoginPage');\n        }else{\n          this.clientId = data.clientId;\n          this.tool.getStg('ip').then(\n            (data)=>{\n              if(data){\n                this.lgn.logger(this.clientId,'Masuk halaman history', data.ip).subscribe();\n              }\n            }\n          );\n          this.getData();\n        }\n      },\n      err=>{\n        console.log('History-> getStgLogin', err);\n      }\n    );\n  }\n  \n  getData(){\n    this.tool.showLoading();\n    this.mkt.getData(this.clientId).subscribe(data => {\n      let result:any;\n      result = data;\n      this.items = result.records;\n      this.tool.stopLoading();\n    },err=>{\n      console.log('History-> getData()',err);\n      this.tool.stopLoading();\n    });\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.ts"],"sourceRoot":""}